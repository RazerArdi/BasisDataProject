-- Generated by Oracle SQL Developer Data Modeler 23.1.0.087.0806
--   at:        2024-06-03 23:32:20 ICT
--   site:      Oracle Database 12c
--   type:      Oracle Database 12c



-- predefined type, no DDL - MDSYS.SDO_GEOMETRY

-- predefined type, no DDL - XMLTYPE


CREATE TABLE LOGIN(
    login_id  INTEGER PRIMARY KEY,
    name      VARCHAR2(100) NOT NULL,
    username  VARCHAR2(50) UNIQUE NOT NULL,
    email     VARCHAR2(100) UNIQUE NOT NULL,
    password  VARCHAR2(100) NOT NULL
);


CREATE TABLE air (
    air_id                    VARCHAR2(30) NOT NULL,
    task                      VARCHAR2(400),
    location                  CLOB,
    communication_log_comm_id VARCHAR2(30) NOT NULL
);

ALTER TABLE air ADD CONSTRAINT air_pk PRIMARY KEY ( air_id );

CREATE TABLE analysis (
    analysis_id   INTEGER NOT NULL,
    analysis_type VARCHAR2(30) NOT NULL,
    results       CLOB,
    users_user_id VARCHAR2(30) NOT NULL,
    data_data_id  INTEGER NOT NULL
);

ALTER TABLE analysis ADD CONSTRAINT analysis_pk PRIMARY KEY ( analysis_id,
                                                              data_data_id );

CREATE TABLE assignments (
    assignment_id          VARCHAR2(30) NOT NULL,
    role                   VARCHAR2(100) NOT NULL,
    start_date             DATE NOT NULL,
    end_date               DATE NOT NULL,
    personnel_personnel_id VARCHAR2(30) NOT NULL
);

ALTER TABLE assignments ADD CONSTRAINT assignments_pk PRIMARY KEY ( assignment_id );

CREATE TABLE communication_log (
    comm_id               VARCHAR2(30) NOT NULL,
    message               CLOB NOT NULL,
    platforms_platform_id VARCHAR2(30) NOT NULL
);

CREATE UNIQUE INDEX communication_log__idx ON
    communication_log (
        platforms_platform_id
    ASC );

ALTER TABLE communication_log ADD CONSTRAINT communication_log_pk PRIMARY KEY ( comm_id );

CREATE TABLE "contractors" (
    personnel_id   NUMBER(22) NOT NULL,
    officer_id     VARCHAR2(30) NOT NULL,
    personnel_name VARCHAR2(4000) NOT NULL,
    rank           VARCHAR2(30) NOT NULL,
    ContractDate   DATE,
    active_date    DATE
);

ALTER TABLE "contractors" ADD CONSTRAINT "contractors/Civ_personnel_PK" PRIMARY KEY ( personnel_id );

ALTER TABLE "contractors" ADD CONSTRAINT "contractors/Civ_personnel_PKv1" UNIQUE ( officer_id );

CREATE TABLE data (
    data_id           INTEGER NOT NULL,
    timestamp         TIMESTAMP NOT NULL,
    data_type         VARCHAR2(50) NOT NULL,
    raw_data          CLOB,
    processed_data    CLOB,
    sensors_sensor_id INTEGER NOT NULL
);

ALTER TABLE data ADD CONSTRAINT data_pk PRIMARY KEY ( data_id );

CREATE TABLE enlisted (
    personnel_id   NUMBER(22) NOT NULL,
    enlist_id      VARCHAR2(30) NOT NULL,
    personnel_name VARCHAR2(4000) NOT NULL,
    rank           VARCHAR2(30) NOT NULL,
    active_date    DATE
);

ALTER TABLE enlisted ADD CONSTRAINT enlisted_personnel_pk PRIMARY KEY ( personnel_id );

ALTER TABLE enlisted ADD CONSTRAINT enlisted_personnel_pkv1 UNIQUE ( enlist_id );

CREATE TABLE equipment (
    equipment_id      VARCHAR2(30) NOT NULL,
    name              VARCHAR2(50) NOT NULL,
    type              VARCHAR2(30) NOT NULL,
    status            VARCHAR2(30) NOT NULL,
    location          VARCHAR2(300) NOT NULL,
    last_maintenance  DATE NOT NULL,
    sensors_sensor_id INTEGER NOT NULL
);

ALTER TABLE equipment ADD CONSTRAINT equipment_pk PRIMARY KEY ( equipment_id );

CREATE TABLE land (
    land_id                   VARCHAR2(30) NOT NULL,
    task                      VARCHAR2(400) NOT NULL,
    location                  CLOB,
    communication_log_comm_id VARCHAR2(30) NOT NULL
);

ALTER TABLE land ADD CONSTRAINT land_pk PRIMARY KEY ( land_id );

CREATE TABLE maintenance_logs (
    maintenance_id         VARCHAR2(30) NOT NULL,
    "Date"                 DATE NOT NULL,
    description            CLOB,
    equipment_equipment_id VARCHAR2(30) NOT NULL,
    platforms_platform_id  VARCHAR2(30) NOT NULL,
    personnel_personnel_id VARCHAR2(30) NOT NULL
);

ALTER TABLE maintenance_logs ADD CONSTRAINT maintenance_logs_pk PRIMARY KEY ( maintenance_id,
                                                                              platforms_platform_id );

CREATE TABLE missions (
    mission_id   INTEGER NOT NULL,
    mission_name VARCHAR2(30) NOT NULL,
    description  CLOB,
    start_date   DATE,
    end_date     DATE,
    status       VARCHAR2(30)
);

ALTER TABLE missions ADD CONSTRAINT missions_pk PRIMARY KEY ( mission_id );

CREATE TABLE officer (
    personnel_id   NUMBER(22) NOT NULL,
    officer_id     VARCHAR2(30) NOT NULL,
    personnel_name VARCHAR2(4000) NOT NULL,
    rank           VARCHAR2(30) NOT NULL,
    active_date    DATE
);

ALTER TABLE officer ADD CONSTRAINT officer_pk PRIMARY KEY ( personnel_id );

ALTER TABLE officer ADD CONSTRAINT officer_pkv1 UNIQUE ( officer_id );

CREATE TABLE personnel (
    personnel_id       VARCHAR2(30) NOT NULL,
    personnel_name     VARCHAR2(4000) NOT NULL,
    rank               VARCHAR2(30) NOT NULL,
    specialty          VARCHAR2(30) NOT NULL,
    current_assignment VARCHAR2(100) NOT NULL,
    contact_info       INTEGER NOT NULL
);

ALTER TABLE personnel ADD CONSTRAINT personnel_pk PRIMARY KEY ( personnel_id );

CREATE TABLE platforms (
    platform_id         VARCHAR2(30) NOT NULL,
    platform_name       VARCHAR2(4000) NOT NULL,
    type                VARCHAR2(30) NOT NULL,
    capability          VARCHAR2(30) NOT NULL,
    last_maintenance    DATE

    ,
    missions_mission_id INTEGER NOT NULL
);

ALTER TABLE platforms ADD CONSTRAINT platforms_pk PRIMARY KEY ( platform_id );

CREATE TABLE relation_10 (
    users_user_id                   VARCHAR2(30) NOT NULL,

    maintenance_logs_maintenance_id VARCHAR2(30) NOT NULL,
    maintenance_logs_platform_id    VARCHAR2(30) NOT NULL
);

ALTER TABLE relation_10
    ADD CONSTRAINT relation_10_pk PRIMARY KEY ( users_user_id,
                                                maintenance_logs_maintenance_id,
                                                maintenance_logs_platform_id );

CREATE TABLE relation_11 (
    platforms_platform_id  VARCHAR2(30) NOT NULL,
    personnel_personnel_id VARCHAR2(30) NOT NULL
);

ALTER TABLE relation_11 ADD CONSTRAINT relation_11_pk PRIMARY KEY ( platforms_platform_id,
                                                                    personnel_personnel_id );

CREATE TABLE relation_9 (
    users_user_id     VARCHAR2(30) NOT NULL,
    sensors_sensor_id INTEGER NOT NULL
);

ALTER TABLE relation_9 ADD CONSTRAINT relation_9_pk PRIMARY KEY ( users_user_id,
                                                                  sensors_sensor_id );

CREATE TABLE sea (
    sea_platform_id           VARCHAR2(30) NOT NULL,
    task                      VARCHAR2(400) NOT NULL,
    location                  CLOB,
    communication_log_comm_id VARCHAR2(30) NOT NULL
);

ALTER TABLE sea ADD CONSTRAINT sea_pk PRIMARY KEY ( sea_platform_id );

CREATE TABLE sensors (
    sensor_id        INTEGER NOT NULL,
    type             VARCHAR2(80) NOT NULL,
    location         VARCHAR2(4000) NOT NULL,
    status           VARCHAR2(30) NOT NULL,
    last_maintenance DATE NOT NULL
);

ALTER TABLE sensors ADD CONSTRAINT sensors_pk PRIMARY KEY ( sensor_id );

CREATE TABLE space (
    space_id                  VARCHAR2(30) NOT NULL,
    task                      VARCHAR2(300) NOT NULL,
    location                  CLOB,
    communication_log_comm_id VARCHAR2(30) NOT NULL
);

ALTER TABLE space ADD CONSTRAINT space_pk PRIMARY KEY ( space_id );

CREATE TABLE users (
    user_id      VARCHAR2(30) NOT NULL,
    name         VARCHAR2(100) NOT NULL,
    role         VARCHAR2(100) NOT NULL,
    access_level INTEGER NOT NULL,
    last_login   DATE NOT NULL
);

ALTER TABLE users ADD CONSTRAINT users_pk PRIMARY KEY ( user_id );

ALTER TABLE air
    ADD CONSTRAINT air_communication_log_fk FOREIGN KEY ( communication_log_comm_id )
        REFERENCES communication_log ( comm_id );

ALTER TABLE analysis
    ADD CONSTRAINT analysis_data_fk FOREIGN KEY ( data_data_id )
        REFERENCES data ( data_id );

ALTER TABLE analysis
    ADD CONSTRAINT analysis_users_fk FOREIGN KEY ( users_user_id )
        REFERENCES users ( user_id );

ALTER TABLE assignments
    ADD CONSTRAINT assignments_personnel_fk FOREIGN KEY ( personnel_personnel_id )
        REFERENCES personnel ( personnel_id );

ALTER TABLE communication_log
    ADD CONSTRAINT communication_log_platforms_fk FOREIGN KEY ( platforms_platform_id )
        REFERENCES platforms ( platform_id );


ALTER TABLE "contractors/Civ_personnel"
    ADD CONSTRAINT "contractors_Personnel_FK" FOREIGN KEY ( personnel_id )
        REFERENCES personnel ( personnel_id );

ALTER TABLE data
    ADD CONSTRAINT data_sensors_fk FOREIGN KEY ( sensors_sensor_id )
        REFERENCES sensors ( sensor_id );

ALTER TABLE enlisted
    ADD CONSTRAINT enlisted_personnel_fk FOREIGN KEY ( personnel_id )
        REFERENCES personnel ( personnel_id );

ALTER TABLE equipment
    ADD CONSTRAINT equipment_sensors_fk FOREIGN KEY ( sensors_sensor_id )
        REFERENCES sensors ( sensor_id );

ALTER TABLE land
    ADD CONSTRAINT land_communication_log_fk FOREIGN KEY ( communication_log_comm_id )
        REFERENCES communication_log ( comm_id );

ALTER TABLE maintenance_logs
    ADD CONSTRAINT maintenance_logs_equipment_fk FOREIGN KEY ( equipment_equipment_id )
        REFERENCES equipment ( equipment_id );

ALTER TABLE maintenance_logs
    ADD CONSTRAINT maintenance_logs_personnel_fk FOREIGN KEY ( personnel_personnel_id )
        REFERENCES personnel ( personnel_id );

ALTER TABLE maintenance_logs
    ADD CONSTRAINT maintenance_logs_platforms_fk FOREIGN KEY ( platforms_platform_id )
        REFERENCES platforms ( platform_id );

ALTER TABLE officer
    ADD CONSTRAINT officer_personnel_fk FOREIGN KEY ( personnel_id )
        REFERENCES personnel ( personnel_id );

ALTER TABLE platforms
    ADD CONSTRAINT platforms_missions_fk FOREIGN KEY ( missions_mission_id )
        REFERENCES missions ( mission_id );

ALTER TABLE relation_10
    ADD CONSTRAINT relation_10_maintenance_logs_fk FOREIGN KEY ( maintenance_logs_maintenance_id,
                                                                 maintenance_logs_platform_id )
        REFERENCES maintenance_logs ( maintenance_id,
                                      platforms_platform_id );

ALTER TABLE relation_10
    ADD CONSTRAINT relation_10_users_fk FOREIGN KEY ( users_user_id )
        REFERENCES users ( user_id );

ALTER TABLE relation_11
    ADD CONSTRAINT relation_11_personnel_fk FOREIGN KEY ( personnel_personnel_id )
        REFERENCES personnel ( personnel_id );

ALTER TABLE relation_11
    ADD CONSTRAINT relation_11_platforms_fk FOREIGN KEY ( platforms_platform_id )
        REFERENCES platforms ( platform_id );

ALTER TABLE relation_9
    ADD CONSTRAINT relation_9_sensors_fk FOREIGN KEY ( sensors_sensor_id )
        REFERENCES sensors ( sensor_id );

ALTER TABLE relation_9
    ADD CONSTRAINT relation_9_users_fk FOREIGN KEY ( users_user_id )
        REFERENCES users ( user_id );

ALTER TABLE sea
    ADD CONSTRAINT sea_communication_log_fk FOREIGN KEY ( communication_log_comm_id )
        REFERENCES communication_log ( comm_id );

ALTER TABLE space
    ADD CONSTRAINT space_communication_log_fk FOREIGN KEY ( communication_log_comm_id )
        REFERENCES communication_log ( comm_id );